# Kabaddi Timer

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Cloudflare Workers](https://img.shields.io/badge/platform-Cloudflare%20Workers-orange)](https://workers.cloudflare.com/)

ã‚«ãƒãƒ‡ã‚£ç”¨ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¿ã‚¤ãƒãƒ¼ãƒ»ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚è¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹é–“ã§WebSocketã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸã‚’å®Ÿç¾ã€‚

## ãƒ‡ãƒ¢

ğŸš€ **æœ¬ç•ªç’°å¢ƒ**: https://kabaddi.dominion525.com/

## ä¸»è¦æ©Ÿèƒ½

- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰**: WebSocketã«ã‚ˆã‚‹å¤šãƒ‡ãƒã‚¤ã‚¹åŒæœŸ
- **ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒãƒ¼**: ã‚«ã‚¹ã‚¿ãƒ è¨­å®šå¯èƒ½ãªè©¦åˆã‚¿ã‚¤ãƒãƒ¼
- **ã‚µãƒ–ã‚¿ã‚¤ãƒãƒ¼**: 30ç§’å›ºå®šã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒãƒ¼
- **ã‚¹ã‚³ã‚¢ç®¡ç†**: ãƒãƒ¼ãƒ åˆ¥ã‚¹ã‚³ã‚¢ãƒ»Do or Dieã‚«ã‚¦ãƒ³ãƒˆ
- **ã‚³ãƒ¼ãƒˆãƒã‚§ãƒ³ã‚¸æ©Ÿèƒ½**: ãƒãƒ¼ãƒ ä½ç½®ã®åˆ‡ã‚Šæ›¿ãˆ
- **ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼å‘ã‘è¡¨ç¤ºåè»¢**: ãƒ­ãƒ¼ã‚«ãƒ«è¡¨ç¤ºã®ä¸Šä¸‹åè»¢æ©Ÿèƒ½
- **æ¥ç¶šçŠ¶æ…‹è¡¨ç¤º**: WebSocketæ¥ç¶šçŠ¶æ³ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
- **QRã‚³ãƒ¼ãƒ‰å…±æœ‰**: ä»–ãƒ‡ãƒã‚¤ã‚¹ã¸ã®ç°¡å˜å…±æœ‰

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Cloudflare Workers** + **Durable Objects**
- **TypeScript**
- **Hono** (ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯)
- **WebSocket** ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Preact** + **TSX** + **Tailwind CSS**
- **Preact SSG** (ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸é™çš„ç”Ÿæˆ)

### ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆ
- **Vite**: ãƒãƒ³ãƒ‰ãƒ«+ãƒŸãƒ‹ãƒ•ã‚¡ã‚¤
- **Vitest**: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- **TypeScript Compiler**: å‹ãƒã‚§ãƒƒã‚¯

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆæ§‹æˆ
- `/` - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸ï¼ˆé™çš„HTMLï¼‰
- `/game-v2/{gameId}` - ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰ï¼ˆPreactï¼‰
- `/ws/{gameId}` - WebSocketæ¥ç¶š

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
src/
â”œâ”€â”€ game-v2/              # GameV2å®Ÿè£… (Preact + TSX)
â”‚   â”œâ”€â”€ components/      # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ hooks/           # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ lib/             # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ types/           # å‹å®šç¾©
â”œâ”€â”€ index-page/          # ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸ (Preact SSG)
â”‚   â”œâ”€â”€ components/      # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ utils/           # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ client.ts        # ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰JS
â”‚   â””â”€â”€ template.tsx     # HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ shared/              # å…±æœ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ components/      # CreditsModalç­‰
â”œâ”€â”€ durable-objects/     # Durable Objectså®Ÿè£…
â”œâ”€â”€ types/               # å…±é€šå‹å®šç¾©
â””â”€â”€ index.ts             # ãƒ¡ã‚¤ãƒ³Workerãƒãƒ³ãƒ‰ãƒ©ãƒ¼

public/
â””â”€â”€ images/              # ã‚¢ã‚¤ã‚³ãƒ³ãƒ»OGç”»åƒ
    â”œâ”€â”€ ICON-BASIC.svg  # ãƒã‚¹ã‚¿ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³
    â””â”€â”€ *.png           # ç”Ÿæˆã‚¢ã‚¤ã‚³ãƒ³å„ç¨®
```

## æŠ€è¡“çš„ç‰¹å¾´

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ
- WebSocketæ¥ç¶šã«ã‚ˆã‚‹å³æ™‚çŠ¶æ…‹åŒæœŸ
- æ¥ç¶šæ–­æ™‚ã®è‡ªå‹•å†æ¥ç¶š

### çŠ¶æ…‹æ°¸ç¶šåŒ–
- Durable Objectsã«ã‚ˆã‚‹è‡ªå‹•ä¿å­˜ã¨å¾©å…ƒ

## é–‹ç™º

### åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# åˆå›ãƒ“ãƒ«ãƒ‰
npm run build
```

### é–‹ç™ºã‚³ãƒãƒ³ãƒ‰
```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# å‹ãƒã‚§ãƒƒã‚¯
npm run typecheck

# ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ†ã‚¹ãƒˆ
npm run test                # Durable Objectsãƒ†ã‚¹ãƒˆ
npm run test:game-v2        # GameV2ãƒ†ã‚¹ãƒˆ
npm run test:index-page     # ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¸ãƒ†ã‚¹ãƒˆ
npm run test:coverage       # ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã

# ãƒ‡ãƒ—ãƒ­ã‚¤
npm run deploy
```

### ãƒ‡ãƒ—ãƒ­ã‚¤ã«å¿…è¦ãªè¨­å®š
- `wrangler.toml`: Durable Objectsè¨­å®š
- Cloudflareã‚¢ã‚«ã‚¦ãƒ³ãƒˆ + API Token

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## é–‹ç™ºè€…

[@dominion525](https://twitter.com/dominion525) / [Dominion525.com](https://dominion525.com)

## Special Thanks

æ±äº¬ãƒ¬ã‚¤ã‚º and other kabaddi teams
